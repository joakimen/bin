#!/usr/bin/env bb

(defn current-git-branch []
  (-> (shell/sh "git" "rev-parse" "--abbrev-ref" "@")
      :out
      str/trim-newline))
  
(defn is-base-branch [branch]
  (some #(= branch %) ["main", "master", "develop"]))

(when (is-base-branch (current-git-branch))
  (System/exit 1))
